<html>
  <body>
    <ul id="tabs">
      <li data-tab="users">Users</li>
      <li data-tab="groups">Groups</li>
    </ul>

    <div id="tabsContent">

    </div>

    <div data-tab="users">

    </div>

    <div data-tag="groups">

    </div>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <script>
      jQuery.fn.tabs = function(control) {
        var element = $(this);
        control = $(control);

        element.delegate("li", "click", function() {
          // retrieve tabName
          var tabName = $(this).attr("data-tab");
          
          // fire custom event on tab click
          element.trigger("change.tabs", tabName);
        });

        // bind to custom event
        element.bind('change.tabs', function(e, tabName) {
          element.find('li').removeClass('active');
          element.find(">[data-tab'" + tabName + "']").addClass("active");
        });

        element.bind('change.tabs', function( e, tabName) {
          control.find(">[data-tab]").removeClass("active");
          control.find(">[data-tab'" + tabName + "']").addClass("active");
        });

        // Activate first tab
        var firstName = element.find("li:first").attr("data-tab");
        element.trigger("change.tabs", firstName);

        // return this to enable chaining
        return this;
      };


    </script>
  </body>
</html>
